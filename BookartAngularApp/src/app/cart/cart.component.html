<div
*ngIf="(cart$ | async)===null">
  <p>There are no items in your cart</p>
</div>

<div *ngIf="(cart$ | async) as cart">
  <div class="mt-3">
    <div class="container">
      <div class="row">
        <div class="col-12 py-2 mb-2">
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th class="border-0" scope="col">
                    <div class="p-2 px-3 text-uppercase">Book Name</div>
                  </th>
                  <th class="border-0" scope="col">
                    <div class="p-2 py-3 text-uppercase">Price</div>
                  </th>
                  <th class="border-0" scope="col">
                    <div class="p-2 py-3 text-uppercase">Quantity</div>
                  </th>
                  <th class="border-0" scope="col">
                    <div class="p-2 py-3 text-uppercase">Total</div>
                  </th>
                  <th class="border-0" scope="col">
                    <div class="p-2 py-3 text-uppercase">Remove</div>
                  </th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of cart.items">
                  <th scope="row">
                    <div class="p-2">
                      <img src="{{item.pictureUrl}}" alt="" class="img-fluid" width="75px" >
                      <div class="ml-3 d-inline-block align-middle">
                        <h5 class="mb-0">
                          <a routerLink="shop/{{item.id}}">{{item.bookName}}</a>
                        </h5>
                        <span class="text-muted font-weight-normal font-italic d-block">
                          -By {{item.authorName}}
                        </span>
                      </div>

                    </div>
                  </th>
                  <td class="align-middle">
                    <strong>{{item.price |currency:"INR":"symbol"}}</strong>
                  </td>
                  <td class="align-middle">
                    <div class="d-flex-align-items-center">
                      <i (click)="decrementBookCartItem(item)" class="fa fa-minus-circle text-warning mr-2"></i>
                      <span class="font-weight-bold">{{item.quantity}}</span>
                      <i (click)="incrementBookCartItem(item) " class="fa fa-plus-circle text-warning mx-2"></i>

                    </div>
                  </td>
                  <td class="align-middle">
                    <strong>{{item.price * item.quantity | currency:"INR":"symbol"}}</strong>
                  </td>
                  <td class="align-middle text-center">
                    <a class="text-danger">
                      <i (click)="removeBookCartItem(item)" class="far fa-trash-alt" style="cursor: pointer;"></i>
                    </a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>



      <div class="row mb-3" >
        <div class="col-6 offset-6">
          <app-order-totals></app-order-totals>
          <a routerLink="/checkout" class="btn btn-outline-success btn-block">Checkout</a>
        </div>
      </div>
    </div>
  </div>




</div>
